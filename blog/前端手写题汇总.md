### æ‰‹å†™èŠ‚æµthrottleã€debounce
èŠ‚æµ throttle å’Œé˜²æŠ– debounce æ˜¯ä¸¤ç§å¸¸ç”¨çš„å‡½æ•°ä¼˜åŒ–æŠ€æœ¯ï¼Œå®ƒä»¬çš„ç›®çš„æ˜¯å‡å°‘å‡½æ•°åœ¨çŸ­æ—¶é—´å†…è¢«é¢‘ç¹è°ƒç”¨çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼š

- èŠ‚æµ throttle æ˜¯æŒ‡åœ¨ä¸€å®šæ—¶é—´é—´éš”å†…ï¼Œåªæ‰§è¡Œå‡½æ•°çš„ç¬¬ä¸€æ¬¡æˆ–æœ€åä¸€æ¬¡è°ƒç”¨ï¼Œå¿½ç•¥å…¶ä»–çš„è°ƒç”¨ã€‚èŠ‚æµå¯ä»¥ä¿è¯å‡½æ•°åœ¨è§„å®šçš„æ—¶é—´å†…è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼Œé€‚ç”¨äºéœ€è¦æŒ‰æ—¶é—´å‡åŒ€è§¦å‘çš„åœºæ™¯ï¼Œæ¯”å¦‚æ»šåŠ¨äº‹ä»¶ã€æ‹–æ‹½äº‹ä»¶ç­‰ã€‚
- é˜²æŠ– debounce æ˜¯æŒ‡åœ¨ä¸€å®šæ—¶é—´é—´éš”å†…ï¼Œåªæ‰§è¡Œå‡½æ•°çš„æœ€åä¸€æ¬¡è°ƒç”¨ï¼Œå–æ¶ˆå…¶ä»–çš„è°ƒç”¨ã€‚é˜²æŠ–å¯ä»¥é¿å…å‡½æ•°è¢«è¿‡åº¦è§¦å‘ï¼Œé€‚ç”¨äºéœ€è¦ç­‰å¾…ç”¨æˆ·è¾“å…¥åœæ­¢åå†è§¦å‘çš„åœºæ™¯ï¼Œæ¯”å¦‚è¾“å…¥æ¡†æœç´¢ã€çª—å£å¤§å°è°ƒæ•´ç­‰ã€‚

æ‰‹å†™èŠ‚æµ throttle å’Œé˜²æŠ– debounce çš„ä»£ç å¦‚ä¸‹ï¼š

```js
// èŠ‚æµ throttle
function throttle(fn, delay) {
  // å®šä¹‰ä¸€ä¸ªæ ‡å¿—ä½ï¼Œè¡¨ç¤ºæ˜¯å¦å¯ä»¥æ‰§è¡Œå‡½æ•°
  let flag = true;
  // è¿”å›ä¸€ä¸ªåŒ…è£…åçš„å‡½æ•°
  return function (...args) {
    // å¦‚æœæ ‡å¿—ä½ä¸º falseï¼Œè¡¨ç¤ºæ­£åœ¨æ‰§è¡Œå‡½æ•°ï¼Œç›´æ¥è¿”å›
    if (!flag) return;
    // å¦åˆ™ï¼Œå°†æ ‡å¿—ä½è®¾ä¸º falseï¼Œå¹¶ä¸”åœ¨ delay æ—¶é—´åæ¢å¤ä¸º true
    flag = false;
    setTimeout(() => {
      flag = true;
    }, delay);
    // è°ƒç”¨åŸå‡½æ•°ï¼Œå¹¶ç»‘å®š this å’Œå‚æ•°
    fn.apply(this, args);
  };
}

// é˜²æŠ– debounce
function debounce(fn, delay) {
  // å®šä¹‰ä¸€ä¸ªå®šæ—¶å™¨å˜é‡ï¼Œç”¨äºå­˜å‚¨å’Œæ¸…é™¤å®šæ—¶å™¨
  let timer = null;
  // è¿”å›ä¸€ä¸ªåŒ…è£…åçš„å‡½æ•°
  return function (...args) {
    // å¦‚æœå®šæ—¶å™¨å­˜åœ¨ï¼Œè¡¨ç¤ºå·²ç»è§¦å‘è¿‡å‡½æ•°ï¼Œéœ€è¦æ¸…é™¤å®šæ—¶å™¨å¹¶é‡æ–°è®¡æ—¶
    if (timer) {
      clearTimeout(timer);
      timer = null;
    }
    // å¦åˆ™ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ï¼Œå¹¶ä¸”åœ¨ delay æ—¶é—´åæ‰§è¡ŒåŸå‡½æ•°
    timer = setTimeout(() => {
      fn.apply(this, args);
    }, delay);
  };
}
```

### æ‰‹å†™å‘å¸ƒè®¢é˜…
ä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚æˆ‘å¯ä»¥å¸®ä½ äº†è§£jsæ‰‹å†™å‘å¸ƒè®¢é˜…æ¨¡å¼ã€‚ğŸ˜Š

å‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå¯ä»¥è®©å¤šä¸ªå¯¹è±¡ä¹‹é—´å®ç°ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå¯ä»¥é€šçŸ¥æ‰€æœ‰è®¢é˜…äº†å®ƒçš„å¯¹è±¡ã€‚Â¹Â²Â³

jsæ‰‹å†™å‘å¸ƒè®¢é˜…æ¨¡å¼çš„åŸºæœ¬æ€è·¯æ˜¯ï¼š

- åˆ›å»ºä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒå¯¹è±¡ï¼Œå®ƒæœ‰ä¸€ä¸ªå­˜å‚¨è®¢é˜…äº‹ä»¶çš„åˆ—è¡¨å±æ€§ï¼Œä»¥åŠè®¢é˜…ã€å–æ¶ˆè®¢é˜…ã€å‘å¸ƒå’Œåªå‘å¸ƒä¸€æ¬¡çš„æ–¹æ³•ã€‚
- è®¢é˜…æ–¹æ³•ï¼ˆonï¼‰æ¥æ”¶ä¸€ä¸ªäº‹ä»¶åå’Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¦‚æœåˆ—è¡¨ä¸­å­˜åœ¨è¯¥äº‹ä»¶åï¼Œå°±å°†å›è°ƒå‡½æ•°æ·»åŠ åˆ°å¯¹åº”çš„æ•°ç»„ä¸­ï¼Œå¦åˆ™å°±åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å¹¶æ·»åŠ å›è°ƒå‡½æ•°ã€‚
- å–æ¶ˆè®¢é˜…æ–¹æ³•ï¼ˆoffï¼‰æ¥æ”¶ä¸€ä¸ªäº‹ä»¶åå’Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¦‚æœåˆ—è¡¨ä¸­å­˜åœ¨è¯¥äº‹ä»¶åï¼Œå°±ä»å¯¹åº”çš„æ•°ç»„ä¸­ç§»é™¤è¯¥å›è°ƒå‡½æ•°ï¼Œå¦‚æœæ•°ç»„ä¸ºç©ºï¼Œå°±åˆ é™¤è¯¥äº‹ä»¶åã€‚
- å‘å¸ƒæ–¹æ³•ï¼ˆemitï¼‰æ¥æ”¶ä¸€ä¸ªäº‹ä»¶åå’Œä¸€äº›å‚æ•°ï¼Œå¦‚æœåˆ—è¡¨ä¸­å­˜åœ¨è¯¥äº‹ä»¶åï¼Œå°±éå†å¯¹åº”çš„æ•°ç»„å¹¶ä¾æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå¹¶ä¼ å…¥å‚æ•°ã€‚
- åªå‘å¸ƒä¸€æ¬¡æ–¹æ³•ï¼ˆonceï¼‰æ¥æ”¶ä¸€ä¸ªäº‹ä»¶åå’Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä½¿ç”¨è®¢é˜…æ–¹æ³•æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶åœ¨å›è°ƒå‡½æ•°å†…éƒ¨ä½¿ç”¨å–æ¶ˆè®¢é˜…æ–¹æ³•ç§»é™¤è‡ªèº«ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç â´ï¼š

```js
// åˆ›å»ºä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒå¯¹è±¡
class EventEmitter {
  constructor() {
    // åˆå§‹åŒ–ä¸€ä¸ªç©ºå¯¹è±¡å­˜å‚¨è®¢é˜…äº‹ä»¶
    this.events = {};
  }
  // è®¢é˜…æ–¹æ³•
  on(eventName, callback) {
    // å¦‚æœå·²ç»æœ‰è¯¥äº‹ä»¶åï¼Œå°±å°†å›è°ƒå‡½æ•°æ·»åŠ åˆ°æ•°ç»„ä¸­
    if (this.events[eventName]) {
      this.events[eventName].push(callback);
    } else {
      // å¦åˆ™å°±åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å¹¶æ·»åŠ å›è°ƒå‡½æ•°
      this.events[eventName] = [callback];
    }
  }
  // å–æ¶ˆè®¢é˜…æ–¹æ³•
  off(eventName, callback) {
    // å¦‚æœæœ‰è¯¥äº‹ä»¶åï¼Œå°±ä»æ•°ç»„ä¸­ç§»é™¤å›è°ƒå‡½æ•°
    if (this.events[eventName]) {
      this.events[eventName] = this.events[eventName].filter(
        (cb) => cb !== callback
      );
      // å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œå°±åˆ é™¤è¯¥äº‹ä»¶å
      if (this.events[eventName].length === 0) {
        delete this.events[eventName];
      }
    }
  }
  // å‘å¸ƒæ–¹æ³•
  emit(eventName, ...args) {
    // å¦‚æœæœ‰è¯¥äº‹ä»¶åï¼Œå°±éå†æ•°ç»„å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°
    if (this.events[eventName]) {
      this.events[eventName].forEach((cb) => cb(...args));
    }
  }
  // åªå‘å¸ƒä¸€æ¬¡æ–¹æ³•
  once(eventName, callback) {
    // å®šä¹‰ä¸€ä¸ªåŒ…è£…å‡½æ•°ï¼Œåœ¨æ‰§è¡Œå›è°ƒå‡½æ•°åå–æ¶ˆè®¢é˜…
    const wrapFunc = (...args) => {
      callback(...args);
      this.off(eventName, wrapFunc);
    };
    // ä½¿ç”¨è®¢é˜…æ–¹æ³•æ·»åŠ åˆ°åˆ—è¡¨ä¸­
    this.on(eventName, wrapFunc);
  }
}

// æµ‹è¯•ä»£ç 
// åˆ›å»ºä¸€ä¸ªå®ä¾‹
const event = new EventEmitter();
// å®šä¹‰ä¸¤ä¸ªå›è°ƒå‡½æ•°
const handle1 = (...args) => console.log("handle1", ...args);
const handle2 = (...args) => console.log("handle2", ...args);
// è®¢é˜…testäº‹ä»¶
event.on("test", handle1);
event.on("test", handle2);
// å‘å¸ƒtestäº‹ä»¶
event.emit("test", "hello", "world"); // handle1 hello world; handle2 hello world
// å–æ¶ˆè®¢é˜…handle1
event.off("test", handle1);
// å†æ¬¡å‘å¸ƒtestäº‹ä»¶
event.emit("test", "hi"); // handle2 hi
// ä½¿ç”¨åªå‘å¸ƒä¸€æ¬¡æ–¹æ³•è®¢é˜…onceäº‹ä»¶
event.once("once", handle1);
```

### æ‰‹å†™ AJAX

AJAX æ˜¯ Asynchronous JavaScript And XML çš„ç®€ç§°ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ä¸åˆ·æ–°æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥å¼‚æ­¥è·å–æ•°æ®ï¼Œå¹¶æ›´æ–°é¡µé¢çš„éƒ¨åˆ†å†…å®¹ã€‚

æ‰‹å†™ AJAX çš„å…³é”®æ­¥éª¤å¦‚ä¸‹ï¼š

1. åˆ›å»º XMLHttpRequest å¯¹è±¡ï¼Œè¿™æ˜¯ AJAX çš„ä¸»è¦æ¥å£ï¼Œç”¨äºæµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ã€‚
2. è°ƒç”¨ open () æ–¹æ³•ï¼ŒæŒ‡å®š HTTP è¯·æ±‚çš„å‚æ•°ï¼Œæ¯”å¦‚æ–¹æ³•ã€URLã€æ˜¯å¦å¼‚æ­¥ç­‰ã€‚
3. è°ƒç”¨ send () æ–¹æ³•ï¼Œå‘å‡º HTTP è¯·æ±‚ï¼Œå¦‚æœæ˜¯ POST è¯·æ±‚ï¼Œè¿˜éœ€è¦è®¾ç½®è¯·æ±‚å¤´å’Œå‘é€æ•°æ®ä½“ã€‚
4. ç›‘å¬ readyState å±æ€§å’Œ onreadystatechange äº‹ä»¶ï¼Œè·å–æœåŠ¡å™¨è¿”å›çš„æ•°æ®å’ŒçŠ¶æ€ç ã€‚
5. è§£ææœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œæ ¹æ®éœ€è¦æ›´æ–°é¡µé¢çš„éƒ¨åˆ†å†…å®¹ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä½¿ç”¨ GET æ–¹æ³•å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶åœ¨æ§åˆ¶å°æ‰“å°å‡ºè¿”å›çš„æ•°æ®ï¼š

```javascript
// åˆ›å»º XMLHttpRequest å¯¹è±¡
var xhr = new XMLHttpRequest();

// æŒ‡å®š HTTP è¯·æ±‚çš„å‚æ•°
xhr.open('GET', 'http://www.example.com', true);

// å‘å‡º HTTP è¯·æ±‚
xhr.send(null);

// ç›‘å¬ readyState å±æ€§å’Œ onreadystatechange äº‹ä»¶
xhr.onreadystatechange = function() {
  // åˆ¤æ–­è¯·æ±‚æ˜¯å¦å®Œæˆ
  if (xhr.readyState === 4) {
    // åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸ
    if (xhr.status === 200) {
      // è·å–æœåŠ¡å™¨è¿”å›çš„æ•°æ®
      var data = xhr.responseText;
      // åœ¨æ§åˆ¶å°æ‰“å°æ•°æ®
      console.log(data);
    } else {
      // å¤„ç†è¯·æ±‚å¤±è´¥çš„æƒ…å†µ
      console.error('è¯·æ±‚å¤±è´¥ï¼š' + xhr.status);
    }
  }
};
```

### æ‰‹å†™æ·±æ‹·è´
æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«å°±æ˜¯å¦‚ä½•å¤„ç†å¼•ç”¨ç±»å‹ï¼Œç»“æœè·Ÿç€åŸå€¼å˜çš„å°±æ˜¯æµ…æ‹·è´ï¼Œä¸ä¼šè·Ÿç€å˜çš„å°±æ˜¯æ·±æ‹·è´ã€‚

æ‰‹å†™æ·±æ‹·è´çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š

1. é€šè¿‡ JSON ååºåˆ—åŒ– æ¥å®ç°ã€‚

```javascript
const B = JSON.parse(JSON.stringify(A));
```

è¿™ç§æ–¹æ³•æœ€ç®€å•ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå°±æ˜¯ JSON ä¸æ”¯æŒçš„æ•°æ®ç±»å‹ï¼Œéƒ½æ‹·è´ä¸äº†ï¼Œæ¯”å¦‚å‡½æ•°ã€undefinedã€Symbolã€å¾ªç¯å¼•ç”¨ç­‰ã€‚

2. é€šè¿‡é€’å½’éå†å¯¹è±¡çš„å±æ€§æ¥å®ç°ã€‚

```javascript
function deepClone(obj) {
  // åˆ¤æ–­æ˜¯å¦æ˜¯å¯¹è±¡æˆ–æ•°ç»„
  if (typeof obj !== 'object' || obj === null) {
    // å¦‚æœä¸æ˜¯ï¼Œç›´æ¥è¿”å›
    return obj;
  }
  // åˆå§‹åŒ–ç»“æœ
  let result;
  if (obj instanceof Array) {
    // å¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„
    result = [];
  } else {
    // å¦‚æœæ˜¯å¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡
    result = {};
  }
  // éå†å¯¹è±¡çš„å±æ€§
  for (let key in obj) {
    // å¦‚æœæ˜¯è‡ªèº«çš„å±æ€§ï¼Œä¸æ˜¯åŸå‹é“¾ä¸Šçš„
    if (obj.hasOwnProperty(key)) {
      // é€’å½’è°ƒç”¨æ·±æ‹·è´ï¼Œå°†å±æ€§å€¼ä¹Ÿæ‹·è´è¿‡æ¥
      result[key] = deepClone(obj[key]);
    }
  }
  // è¿”å›ç»“æœ
  return result;
}
```

è¿™ç§æ–¹æ³•å¯ä»¥å¤„ç†æ›´å¤šçš„æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå°±æ˜¯å¯èƒ½ä¼šå‡ºç°æ ˆæº¢å‡ºçš„é—®é¢˜ï¼Œå¦‚æœå¯¹è±¡å±‚çº§å¤ªæ·±æˆ–è€…å­˜åœ¨å¾ªç¯å¼•ç”¨ã€‚

### æ‰‹å†™æ•°ç»„å»é‡
1. é€šè¿‡åŒé‡ for å¾ªç¯å’Œ splice æ–¹æ³•å®ç°ã€‚

```javascript
function unique(arr) {
  // å®šä¹‰ä¸€ä¸ªæ–°æ•°ç»„
  let result = [];
  // å¤–å±‚å¾ªç¯éå†åŸæ•°ç»„
  for (let i = 0; i < arr.length; i++) {
    // å†…å±‚å¾ªç¯éå†æ–°æ•°ç»„
    for (let j = 0; j < result.length; j++) {
      // å¦‚æœæ–°æ•°ç»„ä¸­å·²ç»å­˜åœ¨å½“å‰å…ƒç´ ï¼Œå°±è·³å‡ºå†…å±‚å¾ªç¯
      if (arr[i] === result[j]) {
        break;
      }
    }
    // å¦‚æœå†…å±‚å¾ªç¯å®Œæ•´æ‰§è¡Œï¼Œè¯´æ˜æ–°æ•°ç»„ä¸­æ²¡æœ‰å½“å‰å…ƒç´ ï¼Œå°±å°†å…¶æ·»åŠ åˆ°æ–°æ•°ç»„ä¸­
    if (j === result.length) {
      result.push(arr[i]);
    }
  }
  // è¿”å›æ–°æ•°ç»„
  return result;
}
```

è¿™ç§æ–¹æ³•æœ€ç›´è§‚ï¼Œä½†æ˜¯ä¹Ÿæœ€ä½æ•ˆï¼Œå› ä¸ºéœ€è¦ä¸¤å±‚å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n^2)ã€‚

2. é€šè¿‡ indexOf æ–¹æ³•å®ç°ã€‚

```javascript
function unique(arr) {
  // å®šä¹‰ä¸€ä¸ªæ–°æ•°ç»„
  let result = [];
  // éå†åŸæ•°ç»„
  for (let i = 0; i < arr.length; i++) {
    // åˆ¤æ–­å½“å‰å…ƒç´ åœ¨æ–°æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±å°†å…¶æ·»åŠ åˆ°æ–°æ•°ç»„ä¸­
    if (result.indexOf(arr[i]) === -1) {
      result.push(arr[i]);
    }
  }
  // è¿”å›æ–°æ•°ç»„
  return result;
}
```

è¿™ç§æ–¹æ³•åªéœ€è¦ä¸€å±‚å¾ªç¯ï¼Œæ•ˆç‡é«˜äº›ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦éå†æ–°æ•°ç»„æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚

3. é€šè¿‡ Set ç»“æ„å®ç°ã€‚

```javascript
function unique(arr) {
  // åˆ©ç”¨ Set ç»“æ„çš„ç‰¹æ€§ï¼Œå°†æ•°ç»„è½¬åŒ–ä¸º Set å®¹å™¨ï¼Œè‡ªåŠ¨å»é™¤é‡å¤å…ƒç´ 
  let set = new Set(arr);
  // å°† Set å®¹å™¨å±•å¼€å­˜å…¥æ•°ç»„ä¸­
  let result = [...set];
  // è¿”å›æ–°æ•°ç»„
  return result;
}
```

### æ‰‹å†™ç®€åŒ–ç‰ˆ Promise
ä½ å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥å¸®ä½ äº†è§£ä¸€ä¸‹æ‰‹å†™ç®€åŒ–ç‰ˆ Promise çš„æ–¹æ³•ã€‚ğŸ˜Š

Promise æ˜¯ä¸€ç§å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ä»¥åŒæ­¥çš„æ–¹å¼ä¹¦å†™å¼‚æ­¥çš„ä»£ç ï¼Œé¿å…äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚Â¹

æ‰‹å†™ç®€åŒ–ç‰ˆ Promise çš„å…³é”®æ­¥éª¤å¦‚ä¸‹ï¼šÂ¹Â²Â³

1. å®šä¹‰ä¸€ä¸ª Promise ç±»ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª executor å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ resolve å’Œ rejectã€‚
2. åœ¨ Promise ç±»ä¸­ï¼Œå®šä¹‰ä¸‰ä¸ªçŠ¶æ€ï¼špendingï¼ˆç­‰å¾…ï¼‰ã€fulfilledï¼ˆæˆåŠŸï¼‰ã€rejectedï¼ˆå¤±è´¥ï¼‰ï¼Œä»¥åŠä¸¤ä¸ªå±æ€§ï¼švalueï¼ˆæˆåŠŸçš„å€¼ï¼‰å’Œ reasonï¼ˆå¤±è´¥çš„åŸå› ï¼‰ã€‚
3. åœ¨ Promise ç±»ä¸­ï¼Œå®šä¹‰ä¸€ä¸ª resolve æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª value ä½œä¸ºå‚æ•°ï¼Œå°†çŠ¶æ€æ”¹ä¸º fulfilledï¼Œå¹¶æ‰§è¡ŒæˆåŠŸçš„å›è°ƒå‡½æ•°ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚
4. åœ¨ Promise ç±»ä¸­ï¼Œå®šä¹‰ä¸€ä¸ª reject æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª reason ä½œä¸ºå‚æ•°ï¼Œå°†çŠ¶æ€æ”¹ä¸º rejectedï¼Œå¹¶æ‰§è¡Œå¤±è´¥çš„å›è°ƒå‡½æ•°ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚
5. åœ¨ Promise ç±»ä¸­ï¼Œå®šä¹‰ä¸€ä¸ª then æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ onFulfilled å’Œ onRejectedï¼Œåˆ†åˆ«è¡¨ç¤ºæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•°ã€‚
6. åœ¨ then æ–¹æ³•ä¸­ï¼Œæ ¹æ®å½“å‰çš„çŠ¶æ€ï¼Œæ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•°ï¼Œæˆ–è€…å°†å›è°ƒå‡½æ•°å­˜å…¥æ•°ç»„ä¸­ï¼Œç­‰å¾…çŠ¶æ€æ”¹å˜åå†æ‰§è¡Œã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä½¿ç”¨ Promise å®ç°ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œå¹¶åœ¨ then æ–¹æ³•ä¸­è·å–ç»“æœæˆ–æ•è·é”™è¯¯ï¼š

```javascript
// å®šä¹‰ Promise ç±»
class Promise {
  // æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ª executor å‡½æ•°
  constructor(executor) {
    // å®šä¹‰ä¸‰ä¸ªçŠ¶æ€
    this.PENDING = "pending";
    this.FULFILLED = "fulfilled";
    this.REJECTED = "rejected";
    // åˆå§‹åŒ–çŠ¶æ€ä¸º pending
    this.status = this.PENDING;
    // åˆå§‹åŒ– value å’Œ reason
    this.value = undefined;
    this.reason = undefined;
    // å®šä¹‰ä¸¤ä¸ªæ•°ç»„å­˜æ”¾æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•°
    this.onFulfilledCallbacks = [];
    this.onRejectedCallbacks = [];
    // å®šä¹‰ resolve æ–¹æ³•
    const resolve = (value) => {
      // åªæœ‰çŠ¶æ€ä¸º pending æ‰èƒ½æ”¹å˜
      if (this.status === this.PENDING) {
        // å°†çŠ¶æ€æ”¹ä¸º fulfilled
        this.status = this.FULFILLED;
        // ä¿å­˜æˆåŠŸçš„å€¼
        this.value = value;
        // æ‰§è¡ŒæˆåŠŸçš„å›è°ƒå‡½æ•°
        this.onFulfilledCallbacks.forEach((fn) => fn());
      }
    };
    // å®šä¹‰ reject æ–¹æ³•
    const reject = (reason) => {
      // åªæœ‰çŠ¶æ€ä¸º pending æ‰èƒ½æ”¹å˜
      if (this.status === this.PENDING) {
        // å°†çŠ¶æ€æ”¹ä¸º rejected
        this.status = this.REJECTED;
        // ä¿å­˜å¤±è´¥çš„åŸå› 
        this.reason = reason;
        // æ‰§è¡Œå¤±è´¥çš„å›è°ƒå‡½æ•°
        this.onRejectedCallbacks.forEach((fn) => fn());
      }
    };
    // æ‰§è¡Œ executor å‡½æ•°ï¼Œå¹¶ä¼ å…¥ resolve å’Œ reject æ–¹æ³•
    try {
      executor(resolve, reject);
    } catch (error) {
      // å¦‚æœå‡ºé”™ï¼Œç›´æ¥è°ƒç”¨ reject æ–¹æ³•
      reject(error);
    }
  }
  // å®šä¹‰ then æ–¹æ³•
  then(onFulfilled, onRejected) {
    // æ ¹æ®å½“å‰çš„çŠ¶æ€ï¼Œæ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•°
    if (this.status === this.FULFILLED) {
      onFulfilled(this.value);
    }
    if (this.status === this.REJECTED) {
      onRejected(this.reason);
    }
    // å¦‚æœçŠ¶æ€è¿˜æ˜¯ pendingï¼Œå°†å›è°ƒå‡½æ•°å­˜å…¥æ•°ç»„ä¸­
    if (this.status === this.PENDING) {
      this.onFulfilledCallbacks.push(() => onFulfilled(this.value));
      this.onRejectedCallbacks.push(() => onRejected(this.reason));
    }
  }
}
```

### æ‰‹å†™ Promise.all
Promise.all çš„ä½œç”¨æ˜¯ç­‰å¾…æ‰€æœ‰çš„ promise éƒ½å®Œæˆï¼ˆresolvedï¼‰æˆ–è€…æœ‰ä¸€ä¸ªå¤±è´¥ï¼ˆrejectedï¼‰ï¼Œç„¶åæ ¹æ®ç»“æœè¿”å›ä¸€ä¸ªæ•°ç»„æˆ–è€…ä¸€ä¸ªé”™è¯¯ã€‚

æ‰‹å†™ Promise.all çš„å…³é”®æ­¥éª¤å¦‚ä¸‹ï¼š

1. å®šä¹‰ä¸€ä¸ª Promise.all æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª iterable ä½œä¸ºå‚æ•°ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚æœä¸æ˜¯ï¼ŒæŠ›å‡ºé”™è¯¯ã€‚
2. å®šä¹‰ä¸€ä¸ª result æ•°ç»„ï¼Œç”¨äºå­˜æ”¾æ¯ä¸ª promise çš„ç»“æœï¼Œä»¥åŠä¸€ä¸ª count å˜é‡ï¼Œç”¨äºè®°å½•å®Œæˆçš„ promise çš„æ•°é‡ã€‚
3. å®šä¹‰ä¸€ä¸ª resolve å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª index å’Œ value ä½œä¸ºå‚æ•°ï¼Œå°† value å­˜å…¥ result æ•°ç»„çš„å¯¹åº”ä½ç½®ï¼Œå¹¶å°† count åŠ ä¸€ï¼Œå¦‚æœ count ç­‰äº iterable çš„é•¿åº¦ï¼Œè¯´æ˜æ‰€æœ‰çš„ promise éƒ½å®Œæˆäº†ï¼Œå°±è¿”å› result æ•°ç»„ã€‚
4. å®šä¹‰ä¸€ä¸ª reject å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª reason ä½œä¸ºå‚æ•°ï¼Œç›´æ¥è¿”å› reason ä½œä¸ºé”™è¯¯ã€‚
5. éå† iterable ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯ promise å®ä¾‹ï¼Œå¦‚æœæ˜¯ï¼Œå°±è°ƒç”¨å®ƒçš„ then æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ resolve å’Œ reject å‡½æ•°ï¼›å¦‚æœä¸æ˜¯ï¼Œå°±ç›´æ¥è°ƒç”¨ resolve å‡½æ•°ï¼Œå¹¶ä¼ å…¥å½“å‰ç´¢å¼•å’Œå…ƒç´ å€¼ã€‚
6. è¿”å›ä¸€ä¸ªæ–°çš„ promise å®ä¾‹ï¼Œå¹¶ä¼ å…¥ resolve å’Œ reject å‡½æ•°ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä½¿ç”¨ Promise.all å‘é€å¤šä¸ªè¯·æ±‚ï¼Œå¹¶åœ¨ then æ–¹æ³•ä¸­è·å–æ‰€æœ‰ç»“æœæˆ–æ•è·é”™è¯¯ï¼š

```javascript
// å®šä¹‰ Promise.all æ–¹æ³•
Promise.all = function (iterable) {
  // åˆ¤æ–­å‚æ•°æ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡
  if (!iterable[Symbol.iterator]) {
    throw new TypeError("iterable must be iterable");
  }
  // å®šä¹‰ result æ•°ç»„å’Œ count å˜é‡
  let result = [];
  let count = 0;
  // å®šä¹‰ resolve å‡½æ•°
  function resolve(index, value) {
    // å°† value å­˜å…¥ result æ•°ç»„
    result[index] = value;
    // å°† count åŠ ä¸€
    count++;
    // å¦‚æœ count ç­‰äº iterable çš„é•¿åº¦ï¼Œè¯´æ˜æ‰€æœ‰çš„ promise éƒ½å®Œæˆäº†
    if (count === iterable.length) {
      // è¿”å› result æ•°ç»„
      return result;
    }
  }
  // å®šä¹‰ reject å‡½æ•°
  function reject(reason) {
    // è¿”å› reason ä½œä¸ºé”™è¯¯
    return reason;
  }
  // éå† iterable ä¸­çš„æ¯ä¸ªå…ƒç´ 
  for (let i = 0; i < iterable.length; i++) {
    let item = iterable[i];
    // åˆ¤æ–­å…ƒç´ æ˜¯å¦æ˜¯ promise å®ä¾‹
    if (item instanceof Promise) {
      // è°ƒç”¨ then æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ resolve å’Œ reject å‡½æ•°
      item.then((value) => resolve(i, value), reject);
    } else {
      // ç›´æ¥è°ƒç”¨ resolve å‡½æ•°ï¼Œå¹¶ä¼ å…¥å½“å‰ç´¢å¼•å’Œå…ƒç´ å€¼
      resolve(i, item);
    }
  }
  // è¿”å›ä¸€ä¸ªæ–°çš„ promise å®ä¾‹ï¼Œå¹¶ä¼ å…¥ resolve å’Œ reject å‡½æ•°
  return new Promise((resolve, reject) => {
    resolve(resolve);
    reject(reject);
  });
};

// ä½¿ç”¨ Promise.all å‘é€å¤šä¸ªè¯·æ±‚
const p = Promise.all([
  fetch("https://www.baidu.com"),
  fetch("https://www.google.com"),
  fetch("https://www.bing.com"),
]);

// åœ¨ then æ–¹æ³•ä¸­è·å–æ‰€æœ‰ç»“æœæˆ–æ•è·é”™è¯¯
p.then(
  (data) => {
    console.log(data); // æ‰“å°ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå“åº”å¯¹è±¡çš„æ•°ç»„
  },
  (err) => {
    console.log(err); // æ‰“å°ç¬¬ä¸€ä¸ªå¤±è´¥ç»“æœ
  }
);
```

### æ‰‹å†™äº‹ä»¶å§”æ‰˜
1. å®šä¹‰ä¸€ä¸ªå§”æ‰˜å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯çˆ¶å…ƒç´ ã€å­å…ƒç´ é€‰æ‹©å™¨ã€äº‹ä»¶ç±»å‹å’Œå›è°ƒå‡½æ•°ã€‚
2. åœ¨å§”æ‰˜å‡½æ•°ä¸­ï¼Œè·å–çˆ¶å…ƒç´ ï¼Œå¹¶ä¸ºå…¶æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ï¼ŒæŒ‡å®šäº‹ä»¶ç±»å‹å’Œå›è°ƒå‡½æ•°ã€‚
3. åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œè·å–è§¦å‘äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼Œå¹¶åˆ¤æ–­å®ƒæ˜¯å¦åŒ¹é…å­å…ƒç´ é€‰æ‹©å™¨ï¼Œå¦‚æœæ˜¯ï¼Œå°±æ‰§è¡ŒåŸå§‹çš„å›è°ƒå‡½æ•°ï¼›å¦‚æœä¸æ˜¯ï¼Œå°±å‘ä¸Šéå†å…¶ç¥–å…ˆå…ƒç´ ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…çš„å­å…ƒç´ æˆ–è€…åˆ°è¾¾çˆ¶å…ƒç´ ä¸ºæ­¢ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä½¿ç”¨äº‹ä»¶å§”æ‰˜ä¸º ul ä¸­çš„ li å…ƒç´ æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œå¹¶åœ¨æ§åˆ¶å°æ‰“å°å‡º li çš„å†…å®¹ï¼š

```javascript
// è·å– ul å…ƒç´ 
const ul = document.querySelector("ul");

// å®šä¹‰å§”æ‰˜å‡½æ•°
function delegate(parent, selector, type, callback) {
  // ä¸ºçˆ¶å…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
  parent.addEventListener(type, function (e) {
    // è·å–è§¦å‘äº‹ä»¶çš„ç›®æ ‡å…ƒç´ 
    let target = e.target;
    // åˆ¤æ–­ç›®æ ‡å…ƒç´ æ˜¯å¦åŒ¹é…å­å…ƒç´ é€‰æ‹©å™¨
    if (target.matches(selector)) {
      // å¦‚æœæ˜¯ï¼Œå°±æ‰§è¡ŒåŸå§‹çš„å›è°ƒå‡½æ•°ï¼Œå¹¶ä¼ å…¥ç›®æ ‡å…ƒç´ å’Œäº‹ä»¶å¯¹è±¡
      callback(target, e);
    } else {
      // å¦‚æœä¸æ˜¯ï¼Œå°±å‘ä¸Šéå†å…¶ç¥–å…ˆå…ƒç´ 
      while (target !== parent) {
        // è·å–ç›®æ ‡å…ƒç´ çš„çˆ¶å…ƒç´ 
        target = target.parentNode;
        // åˆ¤æ–­çˆ¶å…ƒç´ æ˜¯å¦åŒ¹é…å­å…ƒç´ é€‰æ‹©å™¨
        if (target.matches(selector)) {
          // å¦‚æœæ˜¯ï¼Œå°±æ‰§è¡ŒåŸå§‹çš„å›è°ƒå‡½æ•°ï¼Œå¹¶ä¼ å…¥çˆ¶å…ƒç´ å’Œäº‹ä»¶å¯¹è±¡
          callback(target, e);
          // è·³å‡ºå¾ªç¯
          break;
        }
      }
    }
  });
}

// ä½¿ç”¨å§”æ‰˜å‡½æ•°ä¸º ul ä¸­çš„ li å…ƒç´ æ·»åŠ ç‚¹å‡»äº‹ä»¶
delegate(ul, "li", "click", function (li, e) {
  // åœ¨æ§åˆ¶å°æ‰“å°å‡º li çš„å†…å®¹
  console.log(li.textContent);
});
```

### æ‰‹å†™å¯æ‹–æ›³ div
ä½ å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥å¸®ä½ äº†è§£ä¸€ä¸‹æ‰‹å†™å¯æ‹–æ›³ div çš„æ–¹æ³•ã€‚ğŸ˜Š

å¯æ‹–æ›³ div æ˜¯ä¸€ç§å¸¸è§çš„äº¤äº’æ•ˆæœï¼Œå®ƒå¯ä»¥è®©ç”¨æˆ·é€šè¿‡é¼ æ ‡æ‹–åŠ¨ï¼Œæ”¹å˜ div çš„ä½ç½®ã€‚Â¹Â²

æ‰‹å†™å¯æ‹–æ›³ div çš„å…³é”®æ­¥éª¤å¦‚ä¸‹ï¼šÂ¹Â²Â³

1. å®šä¹‰ä¸€ä¸ª div å…ƒç´ ï¼Œå¹¶è®¾ç½®å®ƒçš„æ ·å¼ï¼Œæ¯”å¦‚å®½åº¦ã€é«˜åº¦ã€èƒŒæ™¯è‰²ã€è¾¹æ¡†ç­‰ã€‚
2. å®šä¹‰ä¸€ä¸ª dragging å˜é‡ï¼Œç”¨äºæ ‡è®°æ˜¯å¦æ­£åœ¨æ‹–åŠ¨ï¼Œä»¥åŠä¸€ä¸ª position å˜é‡ï¼Œç”¨äºè®°å½•é¼ æ ‡æŒ‰ä¸‹æ—¶çš„åæ ‡ã€‚
3. ä¸º div å…ƒç´ æ·»åŠ  mousedown äº‹ä»¶ç›‘å¬å™¨ï¼Œå½“é¼ æ ‡æŒ‰ä¸‹æ—¶ï¼Œå°† dragging è®¾ä¸º trueï¼Œå¹¶è®°å½•å½“å‰é¼ æ ‡çš„åæ ‡åˆ° position ä¸­ã€‚
4. ä¸º document æ·»åŠ  mousemove äº‹ä»¶ç›‘å¬å™¨ï¼Œå½“é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œåˆ¤æ–­ dragging æ˜¯å¦ä¸º trueï¼Œå¦‚æœæ˜¯ï¼Œå°±è®¡ç®—é¼ æ ‡ç§»åŠ¨çš„è·ç¦»ï¼Œå¹¶æ ¹æ®è·ç¦»æ”¹å˜ div çš„ä½ç½®ã€‚
5. ä¸º document æ·»åŠ  mouseup äº‹ä»¶ç›‘å¬å™¨ï¼Œå½“é¼ æ ‡æ¾å¼€æ—¶ï¼Œå°† dragging è®¾ä¸º falseï¼Œå¹¶æ¸…ç©º positionã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä½¿ç”¨åŸç”Ÿ JS å®ç°ä¸€ä¸ªå¯æ‹–æ›³çš„ divï¼š

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ‰‹å†™å¯æ‹–æ›³div</title>
    <style>
      .box {
        width: 200px;
        height: 200px;
        background-color: pink;
        border: 1px solid black;
        position: absolute;
        left: 100px;
        top: 100px;
      }
    </style>
  </head>
  <body>
    <div class="box"></div>
    <script>
      // è·å– div å…ƒç´ 
      const box = document.querySelector(".box");
      // å®šä¹‰ dragging å˜é‡å’Œ position å˜é‡
      let dragging = false;
      let position = null;
      // ä¸º div å…ƒç´ æ·»åŠ  mousedown äº‹ä»¶ç›‘å¬å™¨
      box.addEventListener("mousedown", function (e) {
        // å°† dragging è®¾ä¸º true
        dragging = true;
        // è®°å½•å½“å‰é¼ æ ‡çš„åæ ‡åˆ° position ä¸­
        position = [e.clientX, e.clientY];
      });
      // ä¸º document æ·»åŠ  mousemove äº‹ä»¶ç›‘å¬å™¨
      document.addEventListener("mousemove", function (e) {
        // åˆ¤æ–­ dragging æ˜¯å¦ä¸º true
        if (dragging) {
          // è®¡ç®—é¼ æ ‡ç§»åŠ¨çš„è·ç¦»
          const x = e.clientX - position[0];
          const y = e.clientY - position[1];
          // æ ¹æ®è·ç¦»æ”¹å˜ div çš„ä½ç½®
          box.style.left = parseInt(box.style.left) + x + "px";
          box.style.top = parseInt(box.style.top) + y + "px";
          // æ›´æ–° position çš„å€¼
          position = [e.clientX, e.clientY];
        }
      });
      // ä¸º document æ·»åŠ  mouseup äº‹ä»¶ç›‘å¬å™¨
      document.addEventListener("mouseup", function (e) {
        // å°† dragging è®¾ä¸º false
        dragging = false;
        // æ¸…ç©º position
        position = null;
      });
    </script>
  </body>
</html>
```

### jså¤§æ•°ç›¸åŠ 
js å¤§æ•°ç›¸åŠ çš„é—®é¢˜æ˜¯ç”±äº js åœ¨å­˜æ”¾æ•´æ•°çš„æ—¶å€™æœ‰ä¸€ä¸ªå®‰å…¨èŒƒå›´ï¼Œä¸€æ—¦æ•°å­—è¶…è¿‡è¿™ä¸ªèŒƒå›´å°±ä¼šæŸå¤±ç²¾åº¦ï¼Œå¯¼è‡´è¿ç®—ç»“æœä¸å‡†ç¡®ã€‚

js å¤§æ•°ç›¸åŠ çš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š

1. ä½¿ç”¨ BigInt ç±»å‹ã€‚è¿™æ˜¯ ES10 æ–°å¢çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥è¡¨ç¤ºä»»æ„ç²¾åº¦çš„æ•´æ•°ï¼Œä¸å—å®‰å…¨èŒƒå›´çš„é™åˆ¶ã€‚

```javascript
// ä½¿ç”¨ BigInt ç±»å‹è¡¨ç¤ºå¤§æ•°
let a = BigInt("9007199254740991");
let b = BigInt("1234567899999999999");
// ä½¿ç”¨ + è¿ç®—ç¬¦è¿›è¡Œç›¸åŠ 
let sum = a + b;
// æ‰“å°ç»“æœ
console.log(sum); // 1243575099254740990n
```

è¿™ç§æ–¹æ³•æœ€ç®€å•ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ï¼ŒBigInt ç±»å‹ä¸èƒ½å’Œå…¶ä»–ç±»å‹æ··åˆè¿ç®—ï¼Œä¹Ÿä¸èƒ½ç›´æ¥ç”¨äº Math å¯¹è±¡çš„æ–¹æ³•ï¼Œéœ€è¦è¿›è¡Œç±»å‹è½¬æ¢ã€‚

2. ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹ã€‚è¿™æ˜¯ä¸€ç§é€šç”¨çš„æ–¹æ³•ï¼Œå¯ä»¥å°†å¤§æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åæŒ‰ä½è¿›è¡Œç›¸åŠ ï¼Œå¤„ç†è¿›ä½å’Œè¡¥é½ç­‰ç»†èŠ‚ã€‚

```javascript
// å®šä¹‰ä¸€ä¸ªå¤§æ•°ç›¸åŠ çš„å‡½æ•°
function add(a, b) {
  // å–ä¸¤ä¸ªæ•°å­—çš„æœ€å¤§é•¿åº¦
  let maxLength = Math.max(a.length, b.length);
  // ç”¨ 0 å»è¡¥é½é•¿åº¦
  a = a.padStart(maxLength, 0); // "0009007199254740991"
  b = b.padStart(maxLength, 0); // "1234567899999999999"
  // å®šä¹‰åŠ æ³•è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°çš„å˜é‡
  let t = 0; // æ¯ä¸€ä½çš„ä¸´æ—¶ç»“æœ
  let f = 0; // è¿›ä½
  let sum = ""; // æœ€ç»ˆç»“æœ
  for (let i = maxLength - 1; i >= 0; i--) {
    // æŒ‰ä½ç›¸åŠ ï¼Œæ³¨æ„è¦è½¬ä¸ºæ•°å­—
    t = parseInt(a[i]) + parseInt(b[i]) + f;
    // åˆ¤æ–­æ˜¯å¦è¿›ä½
    f = Math.floor(t / 10);
    // å°†æ¯ä¸€ä½çš„ç»“æœæ‹¼æ¥åˆ° sum ä¸­ï¼Œæ³¨æ„è¦è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æ˜¯é«˜ä½åœ¨å‰ä½ä½åœ¨å
    sum = (t % 10) + sum;
  }
  // å¦‚æœæœ€åè¿˜æœ‰è¿›ä½ï¼Œè¦åœ¨æœ€å‰é¢åŠ ä¸Šè¿›ä½
  if (f == 1) {
    sum = "1" + sum;
  }
  // è¿”å›ç»“æœ
  return sum;
}

// è°ƒç”¨å‡½æ•°è¿›è¡Œç›¸åŠ 
let a = "9007199254740991";
let b = "1234567899999999999";
let sum = add(a, b);
// æ‰“å°ç»“æœ
console.log(sum); // "1243575099254740990"
```
