# 作用域和自由变量
```javascript
// 全局作用域
let a = 0
// 函数作用域
function f1() {
    let a1 = 100
    function f2() {
        let a2 = 200
        function f3() {
            let a3 = 300
            // 自由变量
            // 变量在当前作用域没定义
            // 向上级层层查找
            return a + a1 + a2 + a3
        }
    }
}
// 块级作用域
{
    let x = 100
}
console.log(x) // 报错
// 使用块级作用域限制 i
let a
for (let i = 0; i < 10; i++) {
    a = document.createElement('a')
    a.innerHTML = i + '<br>'
    a.addEventListener('click', function (e) {
        e.preventDefault()
        alert(i)
    })
    document.body.appendChild(a)
}
```
